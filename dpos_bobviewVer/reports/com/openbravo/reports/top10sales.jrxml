<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="top10sales" pageWidth="595" pageHeight="842" columnWidth="536" leftMargin="30" rightMargin="29" topMargin="20" bottomMargin="20">
    <property name="ireport.scriptlethandling" value="0"/>
    <property name="ireport.encoding" value="UTF-8"/>
    <property name="ireport.zoom" value="1.5"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="129"/>
    <import value="net.sf.jasperreports.engine.*"/>
    <import value="java.util.*"/>
    <import value="net.sf.jasperreports.engine.data.*"/>
    <parameter name="ARG" class="java.lang.Object" isForPrompting="false"/>
    <queryString>
		<![CDATA[SELECT PRODUCTS.REFERENCE,PRODUCTS.NAME,PRODUCTS.PRICEBUY,PRODUCTS.PRICESELL,
ROUND(SUM(TICKETLINES.UNITS),2) AS UNITS,
ROUND(SUM(TICKETLINES.PRICE * TICKETLINES.UNITS),2) AS SUBTOTAL,
ROUND(SUM((TICKETLINES.PRICE * TICKETLINES.UNITS) * TAXES.RATE),2) As TAXES,
ROUND(SUM(TICKETLINES.PRICE * TICKETLINES.UNITS) + SUM((TICKETLINES.PRICE * TICKETLINES.UNITS) * TAXES.RATE),2) AS GROSSTOTAL
FROM TICKETLINES
LEFT OUTER JOIN PRODUCTS ON TICKETLINES.PRODUCT = PRODUCTS.ID
LEFT OUTER JOIN TICKETS ON TICKETS.ID = TICKETLINES.TICKET
LEFT OUTER JOIN RECEIPTS ON RECEIPTS.ID = TICKETS.ID, TAXES
WHERE RECEIPTS.ID = TICKETS.ID 
AND TICKETS.ID = TICKETLINES.TICKET 
AND TICKETLINES.PRODUCT = PRODUCTS.ID
AND TICKETLINES.TAXID = TAXES.ID
GROUP BY PRODUCTS.REFERENCE, PRODUCTS.NAME,PRODUCTS.PRICEBUY,PRODUCTS.PRICESELL
ORDER BY GROSSTOTAL DESC
FETCH FIRST 10 ROWS ONLY;]]>
    </queryString>
    <field name="REFERENCE" class="java.lang.String"/>
    <field name="NAME" class="java.lang.String"/>
    <field name="PRICEBUY" class="java.lang.Double"/>
    <field name="PRICESELL" class="java.lang.Double"/> 
    <field name="UNITS" class="java.lang.Double"/>
    <field name="SUBTOTAL" class="java.lang.Double"/>
    <field name="TAXES" class="java.lang.Double"/>
    <field name="GROSSTOTAL" class="java.lang.Double"/>
    <background>
        <band/>
    </background>
    <title>
        <band height="52">
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField-18" mode="Transparent" x="0" y="0" width="375" height="30" forecolor="#33CCFF" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
                    <font fontName="Nanum" size="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{label.title}]]></textFieldExpression>
            </textField>
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField-10" mode="Opaque" x="400" y="0" width="135" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
                    <font fontName="Nanum" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{label.printed}]]></textFieldExpression>
            </textField>
            <textField evaluationTime="Report" pattern="yyyy/MM/dd h.mm a" isBlankWhenNull="false">
                <reportElement key="textField" x="400" y="15" width="135" height="15"/>
                <textElement textAlignment="Right">
                    <font fontName="Nanum" size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
            </textField>
            <textField pattern="" isBlankWhenNull="true">
                <reportElement key="textField-2" mode="Transparent" x="50" y="33" width="110" height="15"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
                </box>
                <textElement textAlignment="Right" verticalAlignment="Middle" rotation="None">
                    <font fontName="Nanum" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[com.openbravo.format.Formats.DATE.formatValue((java.util.Date)((Object[])((Object[])$P{ARG})[0])[1])]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement key="staticText-1" mode="Transparent" x="160" y="33" width="10" height="15"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
                    <font fontName="Nanum" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <text><![CDATA[-
]]></text>
            </staticText>
            <textField pattern="" isBlankWhenNull="true">
                <reportElement key="textField-3" mode="Transparent" x="170" y="33" width="110" height="15"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Middle" rotation="None">
                    <font fontName="Nanum" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[com.openbravo.format.Formats.DATE.formatValue((java.util.Date)((Object[])((Object[])$P{ARG})[0])[3])]]></textFieldExpression>
            </textField>
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField-19" mode="Opaque" x="0" y="33" width="50" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Middle" rotation="None">
                    <font fontName="Nanum" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{label.period}]]></textFieldExpression>
            </textField>
            <rectangle radius="5">
                <reportElement key="rectangle-1" mode="Opaque" x="0" y="50" width="535" height="2" forecolor="#33CCFF" backcolor="#33CCFF"/>
                <graphicElement fill="Solid">
                    <pen lineWidth="0.25" lineStyle="Solid"/>
                </graphicElement>
            </rectangle>
        </band>
    </title>
    <pageHeader>
        <band/>
    </pageHeader>
    <columnHeader>
        <band height="20">
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField-22" mode="Opaque" x="0" y="2" width="104" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
                    <font fontName="Nanum" size="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{label.ref}]]></textFieldExpression>
            </textField>
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField-22" mode="Opaque" x="110" y="2" width="120" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
                    <font fontName="Nanum" size="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{label.prdname}]]></textFieldExpression>
            </textField>
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField-22" mode="Opaque" x="230" y="2" width="100" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
                    <font fontName="Nanum" size="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{label.units}]]></textFieldExpression>
            </textField>
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField-22" mode="Opaque" x="330" y="2" width="100" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
                    <font fontName="Nanum" size="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{label.taxes}]]></textFieldExpression>
            </textField>
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField-20" mode="Opaque" x="435" y="2" width="100" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Right" verticalAlignment="Bottom" rotation="None">
                    <font fontName="Nanum" size="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{label.total}]]></textFieldExpression>
            </textField>
            <line>
                <reportElement key="line-4" mode="Opaque" x="0" y="18" width="535" height="1" forecolor="#000000" backcolor="#FFFFFF"/>
                <graphicElement fill="Solid">
                    <pen lineWidth="0.25" lineStyle="Solid"/>
                </graphicElement>
            </line>
        </band>
    </columnHeader>
    <detail>
        <band height="13">
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="0" y="0" width="114" height="13"/>
                <textElement>
                    <font fontName="Nanum"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{REFERENCE}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="138" y="0" width="100" height="13"/>
                <textElement>
                    <font fontName="Nanum"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{NAME}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="230" y="0" width="100" height="13"/>
                <textElement>
                    <font fontName="Nanum"/>
                </textElement>
                <textFieldExpression><![CDATA[com.openbravo.format.Formats.DOUBLE.formatValue($F{UNITS})]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="330" y="0" width="100" height="13"/>
                <textElement>
                    <font fontName="Nanum"/>
                </textElement>
                <textFieldExpression><![CDATA[com.openbravo.format.Formats.CURRENCY.formatValue($F{TAXES})]]></textFieldExpression>
            </textField>
            <textField pattern="¤ #,##0.000" isBlankWhenNull="true">
                <reportElement key="textField" x="435" y="0" width="100" height="13"/>
                <textElement textAlignment="Right">
                    <font fontName="Nanum"/>
                </textElement>
                <textFieldExpression><![CDATA[com.openbravo.format.Formats.CURRENCY.formatValue($F{GROSSTOTAL})]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    <columnFooter>
        <band/>
    </columnFooter>
    <pageFooter>
        <band height="30">
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField-16" mode="Opaque" x="485" y="10" width="20" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
                </box>
                <textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
                    <font fontName="Nanum" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
            <textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
                <reportElement key="textField-17" mode="Opaque" x="515" y="10" width="20" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
                    <font fontName="Nanum" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement key="staticText-7" mode="Opaque" x="505" y="10" width="10" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
                    <font fontName="Nanum" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="NanumGothic.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <text><![CDATA[/]]></text>
            </staticText>
            <line>
                <reportElement key="line-5" mode="Opaque" x="0" y="5" width="535" height="1" forecolor="#000000" backcolor="#FFFFFF"/>
                <graphicElement fill="Solid">
                    <pen lineWidth="0.25" lineStyle="Solid"/>
                </graphicElement>
            </line>
            <staticText>
                <reportElement x="0" y="10" width="100" height="15"/>
                <textElement>
                    <font fontName="Nanum" size="8"/>
                </textElement>
                <text><![CDATA[rpt:top10sales]]></text>
            </staticText>
        </band>
    </pageFooter>
    <summary>
        <band height="30">
            <line>
                <reportElement key="line-5" mode="Opaque" x="435" y="5" width="100" height="1" forecolor="#000000" backcolor="#FFFFFF"/>
                <graphicElement fill="Solid">
                    <pen lineWidth="0.25" lineStyle="Solid"/>
                </graphicElement>
            </line>
        </band>
    </summary>
</jasperReport>
